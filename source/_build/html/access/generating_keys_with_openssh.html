

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Generating keys with OpenSSH &mdash; Unipi HPC Resources Documentation  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6. Generating keys with PuTTY" href="generating_keys_with_putty.html" />
    <link rel="prev" title="4. How to access to resources" href="access.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html" class="icon icon-home"> Unipi HPC Resources Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../info/about.html">1. About Unipi HPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../info/resources.html">2. List of available resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources_request.html">3. How to request resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="access.html">4. How to access to resources</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Generating keys with OpenSSH</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisite-openssh">5.1. Prerequisite: OpenSSH</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#linux">5.1.1. Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windows">5.1.2. Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#macos">5.1.3. macOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-the-openssh-installation">5.1.4. Check the OpenSSH installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#generating-a-public-private-key-pair">5.2. Generating a public/private key pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="#converting-ssh2-keys-to-openssh-format">5.3. Converting SSH2 keys to OpenSSH format</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links">5.4. Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="generating_keys_with_putty.html">6. Generating keys with PuTTY</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/execute_interactive_job.html">7. Execute an interactive PBS Job</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitor/monitor.html">8. Monitoring resources</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Unipi HPC Resources Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">5. </span>Generating keys with OpenSSH</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/access/generating_keys_with_openssh.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="generating-keys-with-openssh">
<span id="generating-keys-linux"></span><h1><span class="section-number">5. </span>Generating keys with OpenSSH<a class="headerlink" href="#generating-keys-with-openssh" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisite-openssh">
<h2><span class="section-number">5.1. </span>Prerequisite: OpenSSH<a class="headerlink" href="#prerequisite-openssh" title="Permalink to this headline">¶</a></h2>
<div class="section" id="linux">
<h3><span class="section-number">5.1.1. </span>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h3>
<p>On all popular Linux distributions, the OpenSSH software is readily
available, and most often installed by default.</p>
</div>
<div class="section" id="windows">
<h3><span class="section-number">5.1.2. </span>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p>You can use OpenSSH on Windows also if you install the free UNIX
emulation layer <a href="#id1"><span class="problematic" id="id2">`Cygwin`_</span></a> with the package “openssh”.</p>
</div>
<div class="section" id="macos">
<h3><span class="section-number">5.1.3. </span>macOS<a class="headerlink" href="#macos" title="Permalink to this headline">¶</a></h3>
<p>macOS comes with its own implementation of OpenSSH, so you don’t
need to install any third-party software to use it. Just open a Terminal
window and jump in!</p>
</div>
<div class="section" id="check-the-openssh-installation">
<h3><span class="section-number">5.1.4. </span>Check the OpenSSH installation<a class="headerlink" href="#check-the-openssh-installation" title="Permalink to this headline">¶</a></h3>
<p>You can check whether the OpenSSH software is installed by opening
a terminal and typing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh -V
OpenSSH_8.0p1, OpenSSL 1.1.1c FIPS  28 May 2019
</pre></div>
</div>
</div>
</div>
<div class="section" id="generating-a-public-private-key-pair">
<h2><span class="section-number">5.2. </span>Generating a public/private key pair<a class="headerlink" href="#generating-a-public-private-key-pair" title="Permalink to this headline">¶</a></h2>
<p>A key pair might already be present in the default location inside
your home directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls ~/.ssh
authorized_keys   id_rsa   id_rsa.pub   known_hosts
</pre></div>
</div>
<p>You can recognize a public/private key pair when a pair of files has the
same name except for the extension <code class="docutils literal notranslate"><span class="pre">.pub</span></code> extension of one of them. In
this particular case, the private key is <code class="docutils literal notranslate"><span class="pre">id_rsa</span></code> and public key is
<code class="docutils literal notranslate"><span class="pre">id_rsa.pub</span></code>. You may have multiple keys (not necessarily in the
directory <code class="docutils literal notranslate"><span class="pre">~/.ssh</span></code>) if you or your operating system requires this.</p>
<p>You will need to generate a new key pair, when:</p>
<ul class="simple">
<li><p>you don’t have a key pair yet, or</p></li>
<li><p>you have a key pair, but is not in the correct format (RSA) or
uses too few bits (at least 4096),</p></li>
<li><p>you forgot the passphrase protecting your private key, or</p></li>
<li><p>or your private key was compromised.</p></li>
</ul>
<p>To generate a new public/private pair, use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh-keygen -t rsa -b 4096
Generating public/private rsa key pair.
Enter file in which to save the key (/home/user/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/user/.ssh/id_rsa.
Your public key has been saved in /home/user/.ssh/id_rsa.pub.
</pre></div>
</div>
<p>This will ask you for a file name to store the private and public key,
and a passphrase to protect your private key.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It needs to be emphasized that you really should choose the passphrase
wisely!  A weak passphrase poses a serious security risk.</p>
</div>
<p>The system will ask you for your passphrase every time you want to use the
private key, that is, every time you want to access the cluster or transfer
your files, unless you use an <span class="xref std std-ref">SSH agent</span>.</p>
</div>
<div class="section" id="converting-ssh2-keys-to-openssh-format">
<h2><span class="section-number">5.3. </span>Converting SSH2 keys to OpenSSH format<a class="headerlink" href="#converting-ssh2-keys-to-openssh-format" title="Permalink to this headline">¶</a></h2>
<p>Keys are required in the OpenSSH format.</p>
<p>If you have a public key <code class="docutils literal notranslate"><span class="pre">id_rsa_4096_ssh.pub</span></code> in the SSH2 format,
you can use OpenSSH’s ssh-keygen to convert it to the OpenSSH format in
the following way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ssh-keygen -i -f ~/.ssh/id_rsa_4096_ssh.pub &gt; ~/.ssh/id_rsa_4096_openssh.pub
</pre></div>
</div>
</div>
<div class="section" id="links">
<h2><span class="section-number">5.4. </span>Links<a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a href="#id3"><span class="problematic" id="id4">`ssh-keygen manual page`_</span></a></p></li>
<li><p><a href="#id5"><span class="problematic" id="id6">`ssh manual page`_</span></a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generating_keys_with_putty.html" class="btn btn-neutral float-right" title="6. Generating keys with PuTTY" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="access.html" class="btn btn-neutral float-left" title="4. How to access to resources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Università di Pisa

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-156261244-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>